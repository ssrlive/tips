## Git tips

將本地創建的分支 p4 推送到遠端
```
git push --set-upstream origin p4
```
刪除遠端 p4 分支
```
git push origin --delete p4
```
刪除本地 p4 分支
```
git branch -D p4
```
列出本地和遠程所有分支
```
git branch -a
```
列出所有遠程分支
```
git branch -r
```
清理本地對遠程分支的 `cache`
```
git fetch --prune
```

## Oh Shit, Git!?!

https://ohshitgit.com/


## 撤销 commit

撤销上一步，并且撤销 git add
```
git reset --mixed HEAD
```
https://blog.csdn.net/MrNoboday/article/details/82884265

撤销 commit，撤销 git add ，撤销工作区代码
```
git reset --hard HEAD
```
仅撤销上一步 commit, 并且撤销 git add
```
git reset HEAD
```
撤销 commit，但是保留 git add
```
git reset --soft HEAD
```
回退到上次提交，并且保留修改
```
git reset --soft 7776452
```
回退到上次 git 提交， 不保留修改
```
git reset --hard 33330ad
```
将远程 repo 上的提交反绕
```
git revert bbbbb09
```

## How do I remove a submodule?

In modern git (I'm writing this in 2022, with an updated git installation), this has become quite a bit simpler:

Run `git rm <path-to-submodule>`, and commit.

`rm -rf .git/modules/<path-to-submodule>`, and

`git config --remove-section submodule.<path-to-submodule>`.


## 在 Git 下创建一个空分支

https://ooso.net/archives/636
```
git checkout --orphan newbranch
```
